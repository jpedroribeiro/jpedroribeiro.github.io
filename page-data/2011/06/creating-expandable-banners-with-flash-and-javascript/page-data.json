{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/06/creating-expandable-banners-with-flash-and-javascript/","result":{"data":{"site":{"siteMetadata":{"title":"J. Pedro Ribeiro"}},"markdownRemark":{"id":"95123a1f-c687-5b94-bb0f-8e9ae9b77c10","excerpt":"A very popular ad type in portals and blogs, the expandable banner is a useful technique to display more content to a banner. It's a very simple concept: theâ€¦","html":"<p><a href=\"http://jpedroribeiro.com/2011/06/creating-expandable-banners-with-flash-and-javascript/\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.11392405063291%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECA//EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABwgLidP/EABYQAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAQABBQJEx//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwFkf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAQMf/aAAgBAQAGPwJQ/8QAGRAAAQUAAAAAAAAAAAAAAAAAEQABEDFB/9oACAEBAAE/IQdg1Kf/2gAMAwEAAgADAAAAEIP/AP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QL//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxBtf//EABoQAQEBAAMBAAAAAAAAAAAAAAERACExUXH/2gAIAQEAAT8QDVXG8QfuBVSPd3//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Creating Expandable Banners with Flash and Javascript\"\n        title=\"Creating Expandable Banners with Flash and Javascript\"\n        src=\"/static/61a76935cf2a3135dc0a2566f9315f68/828fb/expandable-banner.jpg\"\n        srcset=\"/static/61a76935cf2a3135dc0a2566f9315f68/ff44c/expandable-banner.jpg 158w,\n/static/61a76935cf2a3135dc0a2566f9315f68/a6688/expandable-banner.jpg 315w,\n/static/61a76935cf2a3135dc0a2566f9315f68/828fb/expandable-banner.jpg 630w,\n/static/61a76935cf2a3135dc0a2566f9315f68/51442/expandable-banner.jpg 644w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></a></p>\n<p>A very popular ad type in portals and blogs, the expandable banner is a useful technique to display more content to a banner. It's a very simple concept: the banner initially starts with a standard size and then increase when the user interacts (rollover or click) with it.</p>\n<p>In this tutorial, we are going to create the expandable banner by following 3 steps:</p>\n<ol>\n<li>Create a Flash banner with the original size and the expanded animation.</li>\n<li>Build a expandable area for the banner with HTML &#x26; CSS.</li>\n<li>Develop a small javascript to enable communication between the Flash banner and the HTML file.</li>\n</ol>\n<h2>1) The Flash Animation</h2>\n<p>Start by creating your animation in a canvas as big as the expanded part to be. In this example, my banner will expand from 600x150 to 600x300, so the latter is my canvas size.</p>\n<p>We are going to use 4 layers (although you might use more if needed): <em>hit area</em> - for our mouse events, <em>stage</em> - as a guide, <em>mask</em> - to hide and show different areas of the canvas and <em>content</em>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f1b4af7a5b1c3f80a1c9522b97b919ce/92e00/flash-layers.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.708860759493675%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42mWQbU+CYBSG+f//oU/JSyqmzgqhdIAC8qICDw9qA0JezDbnUiJXKj24tj50n3vX7p2z8+EczLZtB8IgCDzf80v6iKV9H0IXXuQ4f/ztlCMXcxygayPbnHaZ+xui0r6lqyRer1IoE/g1SV2qNEmVIAkUCIKs4DhOYDYAvDKRDCCoJitorKh3BZ0TtVrnsUK1mA6jarqiKMOhhIyCKMsyyxmdjqyqmAUgrSxpJWlONk1rXx+/09M9rb/R4+0V57SZrmWZd62GA4HI9/ssA2dw2O9Zqvp5OGDP87kXxawkp1F8Oh2L4nw+n4qi2O0y0xQNQx4MolpVkKSw9+Q2G4qsLHscnNmL7+MXutlZr9dDOPOC8HW1+sjzLMvyPN9sNy/A01mjJ4xEQRMEjedVRHFgcA/8Arj7LMMAAOixaC35pziOw2WYJlFycZrGZUAMg9j3kjT9AXntVEhDBAHzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flash layers\"\n        title=\"flash-layers\"\n        src=\"/static/f1b4af7a5b1c3f80a1c9522b97b919ce/92e00/flash-layers.png\"\n        srcset=\"/static/f1b4af7a5b1c3f80a1c9522b97b919ce/c26ae/flash-layers.png 158w,\n/static/f1b4af7a5b1c3f80a1c9522b97b919ce/6bdcf/flash-layers.png 315w,\n/static/f1b4af7a5b1c3f80a1c9522b97b919ce/92e00/flash-layers.png 511w\"\n        sizes=\"(max-width: 511px) 100vw, 511px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>In the <strong>hit area</strong>, we place a button with this actionscript:</p>\n<p>on(rollOver)\t{\ngetURL(\"javascript:expand();\");\ngotoAndPlay(\"Start\");\n}</p>\n<p>on(rollOut)\t{\ngotoAndPlay(\"Finish\");\ngetURL(\"javascript:retract();\");\n}</p>\n<p>on(release)\t{\ngetURL(\"<a href=\"http://www.jpedroribeiro.com/\">http://www.jpedroribeiro.com/</a>\", \"_top\");\n}</p>\n<p>As you can see we are going to call a <strong>javascript</strong> on these two mouse events that will expand and retract the flash area, the third event is the click which will take us to our desired link. In the <strong>mask</strong> layer, create a shape object and animate it to hide the extra content. Don't worry about the canvas size, we will take care of it next.</p>\n<h2>2) The HTML</h2>\n<p>We are going to use 2 DIVs here, the parent one with a set position and the child one containing the embedded Flash and using CSS to clip its area.</p>\n<div style=\"position: relative; width: 600px; height: 150px\">     \n    <div id=\"exp-banner\" style=\" position:absolute;clip: rect(0px 600px 150px 0px)\">       \n        <object>...</object>     \n    </div> \n</div>\n<p>Now we just need some script to dynamically change those attributes.</p>\n<h2>3) Interaction</h2>\n<p>Finally, the JavaScript. Here we will set the CSS attribute <em>clip</em> of the child DIV to 300px height when the user hovers our banner and 150px when he moves away from it.</p>\n<p>function expand() {\ndocument.getElementById(\"exp-banner\").style.clip=\"rect(0px 600px 300px 0px)\";\n}\nfunction retract() {\ndocument.getElementById(\"exp-banner\").style.clip=\"rect(0px 600px 150px 0px)\";\n}</p>\n<p>To get a smoother result, you should only call the <em>retract</em> function when your animation reverted back to its standard height.</p>\n<h2>Demo &#x26; Source Files</h2>\n<p>Putting all together, you should come with something like this. <a href=\"http://jpedroribeiro.com/wp-content/uploads/2011/06/expandable.html\">Check out the <strong>demo page</strong></a> and feel free to <strong>download</strong> the original <a href=\"http://jpedroribeiro.com/wp-content/uploads/2011/06/expandable.fla\">Flash file</a>.</p>","frontmatter":{"title":"Creating Expandable Banners with Flash and Javascript","date":"June 04, 2011"}}},"pageContext":{"slug":"/2011/06/creating-expandable-banners-with-flash-and-javascript/","previous":{"fields":{"slug":"/2011/02/please-start-from-the-beginning/"},"frontmatter":{"title":"Please Start From The Beginning...","tags":null}},"next":{"fields":{"slug":"/2011/06/book-review-hardboiled-web-design/"},"frontmatter":{"title":"Book Review: Hardboiled Web Design","tags":null}}}},"staticQueryHashes":["63159454","792910177"],"slicesMap":{}}